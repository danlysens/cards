<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤—Ç–æ-–ö–æ–ª–ª–µ–∫—Ü–∏—è: –ü–æ–π–º–∞–π –ò—Ö –í—Å–µ!</title>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ CSS */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #fff;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }

        h1 {
            color: #007bff;
            margin-bottom: 30px;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —Å–µ–∫—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ */
        .account-info {
            background-color: #e9f7ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 5px solid #007bff;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ —Ñ–∞–π–ª–æ–≤ */
        .uploader {
            border: 2px dashed #ccc;
            padding: 40px 20px;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        .uploader:hover {
            background-color: #f0f0f0;
        }

        #file-input {
            display: none; /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω–ø—É—Ç */
        }

        .collection {
            margin-top: 30px;
            text-align: left;
        }

        .car-item {
            background: #e3f7e3;
            border: 1px solid #c9ecc9;
            padding: 10px;
            margin-top: 10px;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .recognized-image {
            max-width: 100px;
            height: auto;
            border-radius: 4px;
            margin-right: 15px;
        }

        .status {
            margin-top: 20px;
            padding: 10px;
            background-color: #ffebcc;
            color: #e65100;
            border-radius: 6px;
            display: none; /* –°–Ω–∞—á–∞–ª–∞ —Å–∫—Ä—ã—Ç–æ */
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üöó –ê–≤—Ç–æ-–ö–æ–ª–ª–µ–∫—Ü–∏—è: –ü–æ–π–º–∞–π –ò—Ö –í—Å–µ!</h1>

        <div class="account-info">
            <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> <span id="username">–ì–æ—Å—Ç—å</span> | 
            <button onclick="loginLogout()">–í–æ–π—Ç–∏ / –í—ã–π—Ç–∏</button></p>
            <p><strong>–¢–≤–æ—è –ö–æ–ª–ª–µ–∫—Ü–∏—è:</strong> <span id="collection-count">0</span> –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</p>
        </div>

        <hr>

        <h2>üì∏ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –¢–∞—á–∫—É!</h2>
        
        <div class="uploader" onclick="document.getElementById('file-input').click()">
            <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</p>
            <input type="file" id="file-input" accept="image/*">
        </div>

        <div id="status-message" class="status"></div>

        <div class="collection">
            <h2>–¢–≤–æ–∏ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ê–≤—Ç–æ:</h2>
            <div id="car-list">
                </div>
        </div>

    </div>

    <script>
        let is_logged_in = false;
        let car_collection = [];
        const statusMessage = document.getElementById('status-message');
        const carList = document.getElementById('car-list');
        const collectionCount = document.getElementById('collection-count');
        const usernameSpan = document.getElementById('username');

        // –ò–ú–ò–¢–ê–¶–ò–Ø –î–ê–ù–ù–´–• –î–õ–Ø –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–Ø (—ç—Ç–æ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ ML!)
        const dummyCars = [
            { model: "Tesla Model 3", make: "Tesla", year: 2020, rarity: "–û–±—ã—á–Ω—ã–π" },
            { model: "Porsche 911 Turbo S", make: "Porsche", year: 2022, rarity: "–†–µ–¥–∫–∏–π" },
            { model: "LADA Granta", make: "–ê–≤—Ç–æ–í–ê–ó", year: 2018, rarity: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π" },
        ];

        function loginLogout() {
            is_logged_in = !is_logged_in;
            if (is_logged_in) {
                const user = prompt("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:", "–¢–≤–æ–π_–ù–∏–∫");
                usernameSpan.textContent = user || "–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä";
                showMessage(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${usernameSpan.textContent}!`, 'success');
            } else {
                usernameSpan.textContent = "–ì–æ—Å—Ç—å";
                car_collection = [];
                updateCollectionUI();
                showMessage('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.', 'info');
            }
        }

        function updateCollectionUI() {
            carList.innerHTML = '';
            collectionCount.textContent = car_collection.length;
            if (car_collection.length === 0) {
                carList.innerHTML = '<p>–ü–æ–∫–∞ —á—Ç–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø—É—Å—Ç–æ. –ó–∞–≥—Ä—É–∑–∏ –ø–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ!</p>';
            } else {
                car_collection.forEach(car => {
                    const carDiv = document.createElement('div');
                    carDiv.className = 'car-item';
                    
                    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ —Ñ–æ—Ç–æ (–¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ)
                    const img = document.createElement('img');
                    img.src = car.imageURL || 'https://via.placeholder.com/100x60?text=Car'; // –ó–∞–≥–ª—É—à–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    img.alt = car.model;
                    img.className = 'recognized-image';

                    carDiv.innerHTML = `
                        <div>
                            <strong>${car.make} ${car.model}</strong> (${car.year})<br>
                            <small>–†–µ–¥–∫–æ—Å—Ç—å: ${car.rarity}</small>
                        </div>
                        <small>–°–û–•–†–ê–ù–ï–ù–û</small>
                    `;
                    carDiv.prepend(img); // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    carList.appendChild(carDiv);
                });
            }
        }

        document.getElementById('file-input').addEventListener('change', function(event) {
            if (!is_logged_in) {
                showMessage("–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞–≤—Ç–æ!", 'error');
                return;
            }

            const file = event.target.files[0];
            if (file) {
                showMessage(`–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞: ${file.name}...`, 'info');
                
                // –ò–ú–ò–¢–ê–¶–ò–Ø –†–ê–ë–û–¢–´ –°–ï–†–í–ï–†–ê –ò –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–Ø
                setTimeout(() => {
                    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –º–∞—à–∏–Ω—É –∏–∑ —Å–ø–∏—Å–∫–∞-–∑–∞–≥–ª—É—à–∫–∏
                    const recognizedCar = dummyCars[Math.floor(Math.random() * dummyCars.length)];
                    
                    // –°–æ–∑–¥–∞–µ–º URL –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    const imageURL = URL.createObjectURL(file);

                    const newCar = { ...recognizedCar, imageURL: imageURL }; // –î–æ–±–∞–≤–ª—è–µ–º URL –∫ –¥–∞–Ω–Ω—ã–º –º–∞—à–∏–Ω—ã
                    car_collection.push(newCar);
                    
                    updateCollectionUI();
                    showMessage(`‚úÖ –ù–∞–π–¥–µ–Ω–æ! –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é: ${recognizedCar.make} ${recognizedCar.model}!`, 'success');
                }, 2000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
            }
        });

        function showMessage(message, type) {
            statusMessage.textContent = message;
            statusMessage.style.backgroundColor = type === 'success' ? '#d4edda' : type === 'info' ? '#cce5ff' : '#f8d7da';
            statusMessage.style.color = type === 'success' ? '#155724' : type === 'info' ? '#004085' : '#721c24';
            statusMessage.style.display = 'block';
            
            // –°–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, 5000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        updateCollectionUI();
    </script>
</body>
</html>
