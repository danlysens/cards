// --- 2. –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–ï (–£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) ---
        async function captureAndIdentify() {
            scanBtn.disabled = true;
            scanBtn.innerText = '–°–∫–∞–Ω–∏—Ä—É—é...';

            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–æ–º–æ—â—å—é MobileNet
            const predictions = await model.classify(canvas);
            
            let finalCarName = "–ù–µ–æ–ø–æ–∑–Ω–∞–Ω–Ω—ã–π –û–±—ä–µ–∫—Ç üßê";
            let confidence = 0;
            const imageDataURL = canvas.toDataURL('image/jpeg', 0.8);
            
            // 1. –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–∫
            const labels = predictions.map(p => ({
                name: p.className.toLowerCase(),
                score: p.probability
            }));
            
            // 2. –ò—â–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–∞—Ä–∫–∏ –∏ —Ç–∏–ø—ã –∫—É–∑–æ–≤–∞ (Custom Filter)
            const carKeywords = [
                'suv', 'truck', 'sedan', 'coupe', 'convertible', 'hatchback', 'minivan',
                'porsche', 'ferrari', 'lamborghini', 'tesla', 'bmw', 'audi', 'mercedes', 'toyota', 'honda', 'nissan'
            ];

            let bestMatch = null;
            
            for (const label of labels) {
                // –ï—Å–ª–∏ –º–µ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Land Rover" –∏–ª–∏ "SUV")
                const keywordFound = carKeywords.find(kw => label.name.includes(kw));

                if (keywordFound) {
                    if (!bestMatch || label.score > bestMatch.score) {
                        bestMatch = label;
                    }
                }
            }

            if (bestMatch) {
                // –ü—Ä–∏–≤–æ–¥–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∫ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ–º—É –≤–∏–¥—É
                finalCarName = bestMatch.name.split(',')[0].trim().replace('_', ' ');
                confidence = (bestMatch.score * 100).toFixed(1);
            } else {
                // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏, –±–µ—Ä–µ–º –ø—Ä–æ—Å—Ç–æ "–º–∞—à–∏–Ω–∞"
                const genericCar = labels.find(l => l.name.includes('car'));
                if (genericCar) {
                    finalCarName = genericCar.name.split(',')[0].trim().replace('_', ' ');
                    confidence = (genericCar.score * 100).toFixed(1);
                } else {
                    // –ï—Å–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –Ω–∞—à–ª–∏ –º–∞—à–∏–Ω—É, –±–µ—Ä–µ–º –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    finalCarName = labels[0].name.split(',')[0].trim().replace('_', ' ');
                    confidence = (labels[0].score * 100).toFixed(1);
                }
            }
            
            // 3. –í—ã–≤–æ–¥
            saveCar(finalCarName, imageDataURL, confidence);

            alert(`‚úÖ –ù–∞–π–¥–µ–Ω–æ: ${finalCarName}\n–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: ${confidence}%`);
            showCollection();
            
            scanBtn.disabled = false;
            scanBtn.innerText = '–°–¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–æ–∫';
        }

        // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ (init, saveCar, renderGallery –∏ —Ç.–¥.) –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º
